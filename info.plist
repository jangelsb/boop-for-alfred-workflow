<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>bundleid</key>
	<string>com.jangelsb.boop</string>
	<key>category</key>
	<string>Productivity</string>
	<key>connections</key>
	<dict>
		<key>3D386AAA-BFB1-4899-ABC8-3530993846C1</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>7E8AD527-3D57-4C5D-8400-10DF8839D12B</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>507C4D35-3CE5-4B1E-B148-2B885BA428A0</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>E0643DEB-3B9C-4323-88B8-1D9A4D9336F6</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>51C035DA-1517-4790-A8CF-05E64AAB3CD7</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>0C746834-51F5-486D-9260-1ACB5CBA9635</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>5D8080C8-E3DD-4F57-9BC2-5A8C642D1915</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>3D386AAA-BFB1-4899-ABC8-3530993846C1</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>759527DC-D70C-4CD1-B872-65F2AF3496D4</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>9222EAB1-D6BF-4834-B61C-23F05F0E8A39</string>
				<key>modifiers</key>
				<integer>1048576</integer>
				<key>modifiersubtext</key>
				<string>‚èé to save</string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>7E8AD527-3D57-4C5D-8400-10DF8839D12B</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>507C4D35-3CE5-4B1E-B148-2B885BA428A0</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>51C035DA-1517-4790-A8CF-05E64AAB3CD7</string>
				<key>modifiers</key>
				<integer>1048576</integer>
				<key>modifiersubtext</key>
				<string>‚èé to change command</string>
				<key>vitoclose</key>
				<false/>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>A1DB0277-07CE-4B10-9442-32123B16B17A</string>
				<key>modifiers</key>
				<integer>524288</integer>
				<key>modifiersubtext</key>
				<string>‚èé to update input</string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>8CB9B566-A840-4F8E-9599-27A2B0B42D05</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>5D8080C8-E3DD-4F57-9BC2-5A8C642D1915</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>9222EAB1-D6BF-4834-B61C-23F05F0E8A39</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>B6F6CC4F-C1A3-43CE-930F-39DEF66AA472</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>99CA1911-F083-4604-9D1A-D40DCD09B99E</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>A5B9F109-9A50-4DE3-A6FC-F537819581E7</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>A1DB0277-07CE-4B10-9442-32123B16B17A</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>BB2D44BA-29C1-431E-B7E2-3D61C040CA67</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>A5B9F109-9A50-4DE3-A6FC-F537819581E7</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>8CB9B566-A840-4F8E-9599-27A2B0B42D05</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>BB2D44BA-29C1-431E-B7E2-3D61C040CA67</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>759527DC-D70C-4CD1-B872-65F2AF3496D4</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>BDC35612-B939-4A73-8E13-F81D5A7F029C</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>DD17E711-590B-45FB-8811-A35F7513506E</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>D09DD5A9-46D1-4F23-A285-F7A85537551A</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>99CA1911-F083-4604-9D1A-D40DCD09B99E</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>DD17E711-590B-45FB-8811-A35F7513506E</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>D09DD5A9-46D1-4F23-A285-F7A85537551A</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
		<key>F6455E31-60E2-4D95-96E3-514EBA5585E1</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>A5B9F109-9A50-4DE3-A6FC-F537819581E7</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
	</dict>
	<key>createdby</key>
	<string>Josh Angelsberg</string>
	<key>description</key>
	<string>This is as if Boop were made for Alfred.</string>
	<key>disabled</key>
	<false/>
	<key>name</key>
	<string>Boop</string>
	<key>objects</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>autopaste</key>
				<true/>
				<key>clipboardtext</key>
				<string>{query}</string>
				<key>ignoredynamicplaceholders</key>
				<false/>
				<key>transient</key>
				<false/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.clipboard</string>
			<key>uid</key>
			<string>E0643DEB-3B9C-4323-88B8-1D9A4D9336F6</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>68</integer>
				<key>script</key>
				<string>// Requried variables
// `input`
// `input_script_path`

// Outputs the content of the script

ObjC.import("stdlib")

function run(argv) {
  var query = $.getenv("input")

  // State object to pass to the `main` function
  var state = {
      text: query,
      fullText: query,
      selection: query,
      postError: function (message) {
        throw new Error(message); // Throw errors if invalid JSON
      },
      postInfo: function (message) {
        this.text += '\n' + message; // Append message to text with a newline
      },
  };

  try {
    // Inject the custom `require` function
    var require = createRequire();

    // Load the external script
    var scriptPath = $.getenv("input_script_path")
    var scriptContent = readFile(scriptPath);

    // Debug: Check the script content
    if (scriptContent) {
      console.log("Script content loaded successfully.");
    } else {
      console.log("Script content is empty or undefined.");
    }

    // Wrap the script content in a function that has access to `require` and exposes `main`
    var wrappedScript = `
      (function(require, state) {
        ${scriptContent}
        if (typeof main !== 'function') {
          throw new Error("The script did not define a 'main' function.");
        }
        // Expose main globally
        this.main = main;
      })(require, state);
    `;

    // Execute the wrapped script
    eval(wrappedScript);

    // Check if the main function was defined
    if (typeof main === "function") {
      main(state); // Call the main function with the state object
    } else {
      throw new Error("The script did not define the 'main' function.");
    }

    // Return the formatted text
    return state.fullText !== query ? state.fullText : state.text;
  } catch (error) {
    // Return an error message if something goes wrong
    return "Error: " + error.message;
  }
}

// Custom `require` implementation
function createRequire() {
  return function (modulePath) {
    // Replace `@boop/` with the `scripts/lib` path
    if (modulePath.startsWith("@boop/")) {
      modulePath = "./scripts/lib/" + modulePath.substring(6) + ".js";
    } else if (!modulePath.endsWith(".js")) {
      modulePath += ".js";
    }

    // Read the module file
    var scriptContent = readFile(modulePath);

    if (!scriptContent) {
      throw new Error("Module not found: " + modulePath);
    }

    // Wrap the code in CommonJS-like structure
    var module = { exports: {} };

    var wrappedCode = `
      (function (exports, module) {
        ${scriptContent}
      })(module.exports, module);
    `;

    // Evaluate the wrapped code
    eval(wrappedCode);

    // Return the module's exports
    return module.exports;
  };
}

// Function to read file content
function readFile(filePath) {
  var app = Application.currentApplication();
  app.includeStandardAdditions = true;

  try {
    // Use a shell command to read the file content
    var result = app.doShellScript("cat " + filePath);
    return result; // Return the content of the file
  } catch (error) {
    throw new Error("Unable to read file at: " + filePath);
  }
}</string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string></string>
				<key>type</key>
				<integer>7</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>A5B9F109-9A50-4DE3-A6FC-F537819581E7</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>availableviaurlhandler</key>
				<false/>
				<key>triggerid</key>
				<string>change.command</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.trigger.external</string>
			<key>uid</key>
			<string>BDC35612-B939-4A73-8E13-F81D5A7F029C</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>behaviour</key>
				<integer>2</integer>
				<key>fontmode</key>
				<integer>0</integer>
				<key>fontsizing</key>
				<integer>0</integer>
				<key>footertext</key>
				<string>‚èé to copy &amp; paste output ¬∑ ‚åò‚èé to change command ¬∑ ‚å•‚èé to update input ¬∑ ‚éã to cancel</string>
				<key>inputfile</key>
				<string></string>
				<key>inputtype</key>
				<integer>0</integer>
				<key>loadingtext</key>
				<string></string>
				<key>outputmode</key>
				<integer>0</integer>
				<key>scriptinput</key>
				<integer>0</integer>
				<key>spellchecking</key>
				<integer>0</integer>
				<key>stackview</key>
				<false/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.userinterface.text</string>
			<key>uid</key>
			<string>7E8AD527-3D57-4C5D-8400-10DF8839D12B</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>68</integer>
				<key>script</key>
				<string>import sys

query = sys.argv[1]

def strip_last_blank_line_once(text: str) -&gt; str:
    return text[:-1] if text.endswith("\n") else text

sys.stdout.write(strip_last_blank_line_once(query))</string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string></string>
				<key>type</key>
				<integer>9</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>8CB9B566-A840-4F8E-9599-27A2B0B42D05</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>alfredfiltersresults</key>
				<false/>
				<key>alfredfiltersresultsmatchmode</key>
				<integer>3</integer>
				<key>argumenttreatemptyqueryasnil</key>
				<true/>
				<key>argumenttrimmode</key>
				<integer>0</integer>
				<key>argumenttype</key>
				<integer>1</integer>
				<key>escaping</key>
				<integer>102</integer>
				<key>keyword</key>
				<string>{var:input_keyword}</string>
				<key>queuedelaycustom</key>
				<integer>3</integer>
				<key>queuedelayimmediatelyinitially</key>
				<true/>
				<key>queuedelaymode</key>
				<integer>0</integer>
				<key>queuemode</key>
				<integer>1</integer>
				<key>runningsubtext</key>
				<string>Loading...</string>
				<key>script</key>
				<string>import sys
import json
import os
import re


class ScriptInfo:
    def __init__(self, name, description, api, icon, tags, path):
        self.name = name
        self.description = description
        self.api = api
        self.icon = icon
        self.tags = tags
        self.path = path


class ResultItem:
    def __init__(self, title, arg, subtitle='', autocomplete=None, location=None, valid=True, mods=None, text=None, uid=None, icon_path=None, type=None, quicklookurl=None, should_skip_smart_sort=None):
        self.uid = uid if uid else title
        self.title = title
        self.arg = arg
        self.subtitle = subtitle
        self.autocomplete = autocomplete
        self.valid = valid
        self.mods = mods if mods else {}
        self.text = text
        self.icon_path = icon_path
        self.type = type
        self.quicklookurl = quicklookurl
        self.should_skip_smart_sort = should_skip_smart_sort

    def to_dict(self):
        item_dict = {
            "uid": self.uid if self.should_skip_smart_sort is None or self.should_skip_smart_sort is False else None,
            "title": self.title,
            "arg": self.arg,
            "subtitle": self.subtitle,
            "autocomplete": self.autocomplete,
            "valid": self.valid,
            "type": self.type if self.type else "default",
            "quicklookurl": self.quicklookurl,
            "variables": {"script_name": self.title}
        }
        if self.mods:
            item_dict["mods"] = {mod.key.value: mod.to_dict()[mod.key.value] for mod in self.mods if mod.key is not None}
        if self.text:
            item_dict["text"] = self.text.to_dict()
        if self.icon_path:
            item_dict["icon"] = {
                "path": self.icon_path
            }

        if self.should_skip_smart_sort:
            item_dict["skipknowledge"] = True

        return {k: v for k, v in item_dict.items() if v is not None}


def extract_script_info(file_path):
    """Extract metadata from the header of a .js file."""
    with open(file_path, "r", encoding="utf-8") as file:
        content = file.read()

    # Match the JSON header block
    match = re.search(r"/\*\*(.*?)\*\*/", content, re.DOTALL)
    if match:
        header_content = match.group(1).strip()
        header_content = re.sub(r',\s*}', '}', header_content)  # Remove trailing comma before closing curly brace
        try:
            # Parse the JSON from the header
            metadata = json.loads(header_content)
            return ScriptInfo(
                name=metadata.get("name", "Unknown"),
                description=metadata.get("description", ""),
                api=metadata.get("api", 0),
                icon=metadata.get("icon", "default"),
                tags=metadata.get("tags", ""),
                path=file_path
            )
        except json.JSONDecodeError:
            print(f"Failed to parse JSON header in {file_path}")
            pass
    return None


def get_js_files(directory):
    """Get all .js files in the specified directory, one level deep."""
    return [
        os.path.join(directory, f)
        for f in os.listdir(directory)
        if os.path.isfile(os.path.join(directory, f)) and f.endswith(".js")
    ]


def main(query):
    scripts_directory = "./scripts"
    additional_scripts_directory = "./additional_scripts"
    input_user_scripts_path = os.getenv('input_user_scripts_path')
    
    output = {"items": [], "variables": {}}

    # Get all .js files in the scripts directory
    js_files1 = get_js_files(scripts_directory)
    js_files2 = get_js_files(additional_scripts_directory)
    js_files3 = []

    if input_user_scripts_path: 
        js_files3 = get_js_files(input_user_scripts_path)

    # Extract script info and filter by query in name and tags
    for js_file in js_files1 + js_files2 + js_files3:
        script_info = extract_script_info(js_file)
        if script_info:
            # Check if the query matches either name or tags (case-insensitive)
            if query.lower() in script_info.name.lower() or query.lower() in script_info.tags.lower():
                result_item = ResultItem(
                    title=script_info.name,
                    arg=script_info.path,
                    subtitle=script_info.description,  # Display the description instead of tags in the subtitle
                    icon_path=f"icons/{script_info.icon}.pdf" if script_info.icon else None
                )
                output["items"].append(result_item.to_dict())

    # Add the input query to variables
    output["variables"]["query"] = query

    # Output the JSON for Alfred
    sys.stdout.write(json.dumps(output, indent=4))

if __name__ == "__main__":
    query = sys.argv[1] if len(sys.argv) &gt; 1 else ""
    main(query)
</string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string></string>
				<key>subtext</key>
				<string>Quickly run commands using the text on the clipboard</string>
				<key>title</key>
				<string>Boop</string>
				<key>type</key>
				<integer>9</integer>
				<key>withspace</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.scriptfilter</string>
			<key>uid</key>
			<string>D09DD5A9-46D1-4F23-A285-F7A85537551A</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string>{query}</string>
				<key>passthroughargument</key>
				<false/>
				<key>variables</key>
				<dict>
					<key>output</key>
					<string>{query}</string>
				</dict>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>5D8080C8-E3DD-4F57-9BC2-5A8C642D1915</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>seconds</key>
				<string>0</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.delay</string>
			<key>uid</key>
			<string>DD17E711-590B-45FB-8811-A35F7513506E</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string># Input

```
{var:input}
```


# Output

**From** `{var:script_name}`

```
{query}
```</string>
				<key>passthroughargument</key>
				<false/>
				<key>variables</key>
				<dict/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>3D386AAA-BFB1-4899-ABC8-3530993846C1</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string></string>
				<key>passthroughargument</key>
				<false/>
				<key>variables</key>
				<dict>
					<key>input</key>
					<string>{clipboard}</string>
					<key>input_script_path</key>
					<string>{query}</string>
				</dict>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>99CA1911-F083-4604-9D1A-D40DCD09B99E</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string>{var:output}</string>
				<key>passthroughargument</key>
				<false/>
				<key>variables</key>
				<dict/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>507C4D35-3CE5-4B1E-B148-2B885BA428A0</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>externaltriggerid</key>
				<string>change.command</string>
				<key>passinputasargument</key>
				<false/>
				<key>passvariables</key>
				<true/>
				<key>workflowbundleid</key>
				<string>self</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.callexternaltrigger</string>
			<key>uid</key>
			<string>0C746834-51F5-486D-9260-1ACB5CBA9635</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string></string>
				<key>passthroughargument</key>
				<false/>
				<key>variables</key>
				<dict/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>51C035DA-1517-4790-A8CF-05E64AAB3CD7</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>availableviaurlhandler</key>
				<false/>
				<key>triggerid</key>
				<string>rerun</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.trigger.external</string>
			<key>uid</key>
			<string>F6455E31-60E2-4D95-96E3-514EBA5585E1</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>externaltriggerid</key>
				<string>rerun</string>
				<key>passinputasargument</key>
				<false/>
				<key>passvariables</key>
				<true/>
				<key>workflowbundleid</key>
				<string>self</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.callexternaltrigger</string>
			<key>uid</key>
			<string>B6F6CC4F-C1A3-43CE-930F-39DEF66AA472</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>behaviour</key>
				<integer>1</integer>
				<key>fontmode</key>
				<integer>0</integer>
				<key>fontsizing</key>
				<integer>0</integer>
				<key>footertext</key>
				<string>‚åò‚èé to save</string>
				<key>inputfile</key>
				<string></string>
				<key>inputtype</key>
				<integer>0</integer>
				<key>loadingtext</key>
				<string></string>
				<key>outputmode</key>
				<integer>0</integer>
				<key>scriptinput</key>
				<integer>0</integer>
				<key>spellchecking</key>
				<integer>0</integer>
				<key>stackview</key>
				<false/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.userinterface.text</string>
			<key>uid</key>
			<string>759527DC-D70C-4CD1-B872-65F2AF3496D4</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string></string>
				<key>passthroughargument</key>
				<false/>
				<key>variables</key>
				<dict>
					<key>input</key>
					<string>{query}</string>
				</dict>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>9222EAB1-D6BF-4834-B61C-23F05F0E8A39</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>seconds</key>
				<string>0</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.delay</string>
			<key>uid</key>
			<string>BB2D44BA-29C1-431E-B7E2-3D61C040CA67</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argument</key>
				<string>{var:input}</string>
				<key>passthroughargument</key>
				<false/>
				<key>variables</key>
				<dict/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.utility.argument</string>
			<key>uid</key>
			<string>A1DB0277-07CE-4B10-9442-32123B16B17A</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
	</array>
	<key>readme</key>
	<string># Boop for Alfred

For more info check out the repo: https://github.com/jangelsb/boop-for-alfred-workflow

---

Based off of the widely popular https://github.com/IvanMathy/Boop

Quickly run string functions using the text on your clipboard. The output is then copied to your clipboard and pasted back into the editor.

This runs locally in Alfred, using all the same scripts from Boop. It even reads and parses the metadata in each script to allow sorting by the title and tags of a script.

This is as if Boop were made for Alfred.

---

## üöÄ Features


### Supports all the scripts from Boop

### Supports filtering based on tags

### Shows the input and output in Alfred

### Update the command and / or the input inside of Alfred

### Supports your own custom Boop scripts
* For more info see: https://github.com/IvanMathy/Boop/blob/main/Boop/Documentation/CustomScripts.md
* I have already included all the community scripts listed here (as of Thursday, Jan 23, 2025): https://github.com/IvanMathy/Boop/tree/main/Scripts


---


## üìù Version History

#### v2025.4
* Adds the ability to change commands and input during the confirmation screen
* Greatly improves the format of the confirmation screen

---

#### v2025.3
* Adds the ability to view the change before commiting to it
* Press enter ‚èé to copy and paste the change
* Press escape ‚éã to cancel
* You can even manually copy part of it 

---


#### v2025.2
* Adds a small fix to strip only a single trailing new line from the output and not the entire output (the goal here is to avoid creating an additional newline, which seems to be added by default)

---

#### v2025.1
Initial Build

* Adds support for all scripts (default + community from Boop) -&gt; code is ran exactly as it does in Boop but locally in Alfred
* Adds the ability to parse Boop script metadata
* Adds support for filter by Boop script names and tags
* Adds support for custom script folders

---</string>
	<key>uidata</key>
	<dict>
		<key>0C746834-51F5-486D-9260-1ACB5CBA9635</key>
		<dict>
			<key>xpos</key>
			<real>1880</real>
			<key>ypos</key>
			<real>325</real>
		</dict>
		<key>3D386AAA-BFB1-4899-ABC8-3530993846C1</key>
		<dict>
			<key>xpos</key>
			<real>1375</real>
			<key>ypos</key>
			<real>215</real>
		</dict>
		<key>507C4D35-3CE5-4B1E-B148-2B885BA428A0</key>
		<dict>
			<key>xpos</key>
			<real>1785</real>
			<key>ypos</key>
			<real>215</real>
		</dict>
		<key>51C035DA-1517-4790-A8CF-05E64AAB3CD7</key>
		<dict>
			<key>xpos</key>
			<real>1785</real>
			<key>ypos</key>
			<real>355</real>
		</dict>
		<key>5D8080C8-E3DD-4F57-9BC2-5A8C642D1915</key>
		<dict>
			<key>xpos</key>
			<real>1230</real>
			<key>ypos</key>
			<real>215</real>
		</dict>
		<key>759527DC-D70C-4CD1-B872-65F2AF3496D4</key>
		<dict>
			<key>xpos</key>
			<real>1525</real>
			<key>ypos</key>
			<real>470</real>
		</dict>
		<key>7E8AD527-3D57-4C5D-8400-10DF8839D12B</key>
		<dict>
			<key>xpos</key>
			<real>1520</real>
			<key>ypos</key>
			<real>185</real>
		</dict>
		<key>8CB9B566-A840-4F8E-9599-27A2B0B42D05</key>
		<dict>
			<key>note</key>
			<string>This is just to trim the whitespace... sad we need this</string>
			<key>xpos</key>
			<real>1025</real>
			<key>ypos</key>
			<real>185</real>
		</dict>
		<key>9222EAB1-D6BF-4834-B61C-23F05F0E8A39</key>
		<dict>
			<key>xpos</key>
			<real>1785</real>
			<key>ypos</key>
			<real>500</real>
		</dict>
		<key>99CA1911-F083-4604-9D1A-D40DCD09B99E</key>
		<dict>
			<key>xpos</key>
			<real>620</real>
			<key>ypos</key>
			<real>215</real>
		</dict>
		<key>A1DB0277-07CE-4B10-9442-32123B16B17A</key>
		<dict>
			<key>xpos</key>
			<real>1270</real>
			<key>ypos</key>
			<real>500</real>
		</dict>
		<key>A5B9F109-9A50-4DE3-A6FC-F537819581E7</key>
		<dict>
			<key>note</key>
			<string>Requried variables
`input`
`input_script_path`

Outputs the content of the script</string>
			<key>xpos</key>
			<real>785</real>
			<key>ypos</key>
			<real>185</real>
		</dict>
		<key>B6F6CC4F-C1A3-43CE-930F-39DEF66AA472</key>
		<dict>
			<key>xpos</key>
			<real>1880</real>
			<key>ypos</key>
			<real>470</real>
		</dict>
		<key>BB2D44BA-29C1-431E-B7E2-3D61C040CA67</key>
		<dict>
			<key>note</key>
			<string>needed to show the Text View</string>
			<key>xpos</key>
			<real>1390</real>
			<key>ypos</key>
			<real>500</real>
		</dict>
		<key>BDC35612-B939-4A73-8E13-F81D5A7F029C</key>
		<dict>
			<key>xpos</key>
			<real>85</real>
			<key>ypos</key>
			<real>185</real>
		</dict>
		<key>D09DD5A9-46D1-4F23-A285-F7A85537551A</key>
		<dict>
			<key>xpos</key>
			<real>380</real>
			<key>ypos</key>
			<real>185</real>
		</dict>
		<key>DD17E711-590B-45FB-8811-A35F7513506E</key>
		<dict>
			<key>note</key>
			<string>needed to show the commands</string>
			<key>xpos</key>
			<real>275</real>
			<key>ypos</key>
			<real>215</real>
		</dict>
		<key>E0643DEB-3B9C-4323-88B8-1D9A4D9336F6</key>
		<dict>
			<key>xpos</key>
			<real>1880</real>
			<key>ypos</key>
			<real>185</real>
		</dict>
		<key>F6455E31-60E2-4D95-96E3-514EBA5585E1</key>
		<dict>
			<key>xpos</key>
			<real>80</real>
			<key>ypos</key>
			<real>385</real>
		</dict>
	</dict>
	<key>userconfigurationconfig</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>default</key>
				<string>b</string>
				<key>placeholder</key>
				<string>b</string>
				<key>required</key>
				<true/>
				<key>trim</key>
				<true/>
			</dict>
			<key>description</key>
			<string>Type this phrase to filter commands</string>
			<key>label</key>
			<string>keyword</string>
			<key>type</key>
			<string>textfield</string>
			<key>variable</key>
			<string>input_keyword</string>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>default</key>
				<string></string>
				<key>filtermode</key>
				<integer>1</integer>
				<key>placeholder</key>
				<string></string>
				<key>required</key>
				<false/>
			</dict>
			<key>description</key>
			<string>For more info see 'Supports your own custom Boop scripts` üëâ</string>
			<key>label</key>
			<string>Custom scripts folder</string>
			<key>type</key>
			<string>filepicker</string>
			<key>variable</key>
			<string>input_user_scripts_path</string>
		</dict>
	</array>
	<key>variablesdontexport</key>
	<array/>
	<key>version</key>
	<string>2025.4</string>
	<key>webaddress</key>
	<string>https://jangelsb.github.io</string>
</dict>
</plist>
